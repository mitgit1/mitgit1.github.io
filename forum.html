<!DOCTYPE html>
<html>
<head>
    <title>DarkNet Forum</title>
    <style>
        :root {
            --bg: #0d1117;
            --text: #c9d1d9;
            --border: #30363d;
        }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Arial';
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .thread {
            background: #161b22;
            border: 1px solid var(--border);
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
        }
        .post {
            background: #0a0d12;
            margin: 15px 0;
            padding: 10px;
            border-left: 3px solid #238636;
        }
        textarea {
            width: 100%;
            background: #161b22;
            color: var(--text);
            border: 1px solid var(--border);
            padding: 10px;
            margin: 10px 0;
        }
        button {
            background: #238636;
            color: white;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 6px;
        }
        .admin-badge {
            color: #ff7b72;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>üï∏Ô∏è –û–±—â–∞—è —Ç–µ–º–∞</h1>
    
    <div id="threads"></div>

    <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç—Ä–µ–¥</h2>
    <input type="text" id="threadTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç—Ä–µ–¥–∞">
    <textarea id="threadContent" placeholder="–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
    <button onclick="createThread()">–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–¥</button>

    <div id="threadView" style="display:none;">
        <button onclick="showMain()">‚Üê –ù–∞–∑–∞–¥</button>
        <h2 id="threadHeader"></h2>
        <div id="posts"></div>
        <textarea id="postContent" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
        <button onclick="addPost()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>

    <script>
        let currentThread = null;
        
        // –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (ROT13 –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
        const encrypt = data => btoa(data).split('').reverse().join('');
        const decrypt = data => atob(data.split('').reverse().join(''));

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
        if(!localStorage.getItem('forum')) {
            localStorage.setItem('forum', encrypt(JSON.stringify({
                threads: [
                    {
                        id: Date.now(),
                        title: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã",
                        posts: [
                            {
                                author: "–ê–¥–º–∏–Ω",
                                content: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ç–µ–Ω–µ–≤–æ–π —Ñ–æ—Ä—É–º",
                                date: new Date().toISOString(),
                                isAdmin: true
                            }
                        ]
                    }
                ]
            })));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        const loadData = () => JSON.parse(decrypt(localStorage.getItem('forum')));

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        const saveData = data => {
            localStorage.setItem('forum', encrypt(JSON.stringify(data)));
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ–¥–æ–≤
        function showThreads() {
            const data = loadData();
            document.getElementById('threads').innerHTML = data.threads.map(thread => `
                <div class="thread" onclick="openThread(${thread.id})">
                    <h3>${thread.title}</h3>
                    <div>–°–æ–æ–±—â–µ–Ω–∏–π: ${thread.posts.length}</div>
                    <div>–ü–æ—Å–ª–µ–¥–Ω–µ–µ: ${new Date(thread.posts[thread.posts.length-1].date).toLocaleString()}</div>
                </div>
            `).join('');
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–¥–∞
        function createThread() {
            const title = document.getElementById('threadTitle').value;
            const content = document.getElementById('threadContent').value;
            
            const data = loadData();
            data.threads.push({
                id: Date.now(),
                title,
                posts: [{
                    author: "–ê–Ω–æ–Ω–∏–º",
                    content,
                    date: new Date().toISOString()
                }]
            });
            saveData(data);
            showThreads();
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–¥–∞
        function openThread(id) {
            currentThread = id;
            const data = loadData();
            const thread = data.threads.find(t => t.id === id);
            
            document.getElementById('threadHeader').textContent = thread.title;
            document.getElementById('posts').innerHTML = thread.posts.map(post => `
                <div class="post">
                    <div class="author">${post.isAdmin ? '<span class="admin-badge">üëë –ê–¥–º–∏–Ω</span>' : 'üë§ –ê–Ω–æ–Ω–∏–º'}</div>
                    <div class="content">${post.content}</div>
                    <div class="date">${new Date(post.date).toLocaleString()}</div>
                </div>
            `).join('');
            
            document.getElementById('threads').style.display = 'none';
            document.getElementById('threadView').style.display = 'block';
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
        function addPost() {
            const content = document.getElementById('postContent').value;
            const data = loadData();
            const thread = data.threads.find(t => t.id === currentThread);
            
            thread.posts.push({
                author: "–ê–Ω–æ–Ω–∏–º",
                content,
                date: new Date().toISOString()
            });
            
            saveData(data);
            openThread(currentThread);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        showThreads();
    </script>
</body>
</html>
